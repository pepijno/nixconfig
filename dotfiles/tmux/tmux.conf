set-environment -gF TMUX_PLUGIN_MANAGER_PATH '#{HOME}/.config/tmux/plugins/'

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux#v2.1.3'
set -g @plugin 'fcsonline/tmux-thumbs'
set -g @plugin 'joshmedeski/tmux-nerd-font-window-name'

set -g @catppuccin_flavor 'latte'

set -g default-terminal 'screen-256color'
set -ag terminal-overrides ',xterm-256color*:RGB'
set  -g base-index      1
setw -g pane-base-index 1
set -g renumber-windows on
set -g set-clipboard on

# rebind main key: C-a
unbind C-b
set -g prefix C-a
bind -N "Send the prefix key through to the application" \
  a send-prefix
bind C-a last-window

setw -g clock-mode-style  24

# reload source file with '<C-a>r'
unbind r
bind r source-file ~/.config/tmux/tmux.conf \; display 'Reloaded tmux config.'

set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-pipe-and-cancel 'pbcopy'
bind-key -T copy-mode-vi Enter send -X copy-pipe-and-cancel 'pbcopy'

# enable mouse support
set -g mouse on

bind-key C-d detach-client

set -g status-interval 1
set -g default-command fish

set-window-option -g visual-bell on
set-window-option -g bell-action other

# status line
set-option -g status-position bottom

#Left
set -g status-justify left
set -g status-left-length 10
set -g status-left "#{E:@catppuccin_status_session}"

#Right
set -g status-right-length 250
set -g status-right "#{E:@catppuccin_status_directory}"
set -ag status-right "#{E:@catppuccin_status_uptime}"
set -ag status-right "#{E:@catppuccin_status_date_time}"

set -g @catppuccin_status_left_separator  ""
set -g @catppuccin_status_right_separator " "

set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_window_number_position "right"

set -g @catppuccin_window_default_fill "number"
set -g @catppuccin_window_default_text "#W"

set -g @catppuccin_window_current_fill "number"
set -g @catppuccin_window_text "#{?#{!=:#W,zsh},#W,#T}"
set -g @catppuccin_window_current_text "#{?#{!=:#W,zsh},#W,#T}"

set -g @catppuccin_status_fill "icon"
set -g @catppuccin_status_connect_separator "no"

set -g @catppuccin_date_time_text " %a %Y-%m-%d %H:%M:%S"

set -g @catppuccin_window_default_background "#{@thm_blue}"
set -g @catppuccin_window_current_background "#{@thm_peach}"

set -g @catppuccin_window_default_color "#{@thm_surface_1}"
set -g @catppuccin_window_current_color "#{@thm_bg}"

set -g @thumbs-key F
set -g @thumbs-alphabet colemak-homerow

run '~/.config/tmux/plugins/tpm/tpm'
